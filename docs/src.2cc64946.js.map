{"version":3,"sources":["src/index.ts"],"names":[],"mappings":";AAmDA,aAnDA,IAAM,EAAY,SAAS,cACzB,oBAEF,EAAU,iBAAiB,SAAU,SAAA,GAC7B,IAAA,EAAS,EAAa,OAA4B,MAAO,GAC3D,GAAa,cAAb,EAAK,MAAqC,aAAb,EAAK,KAAlC,CAKE,IAAA,EAAS,IAAI,WACnB,EAAO,OAAS,SAAA,GACR,IAAA,EAAQ,IAAI,MAClB,EAAM,IAAM,EAAO,OACnB,EAAM,OAAS,WACP,IAAA,EAAS,SAAS,cAAc,UACtC,EAAO,MAAQ,EAAM,MACrB,EAAO,OAAS,EAAM,OAChB,IAAA,EAAM,EAAO,WAAW,MAC9B,EAAI,UAAU,EAAG,EAAG,EAAM,MAAO,EAAM,QACvC,EAAI,UAAU,EAAO,EAAG,EAAG,EAAM,MAAO,EAAM,QAE9C,EAAI,UAAY,iBAChB,EAAI,SAAS,EAAG,EAAG,EAAM,MAAO,EAAM,QAEhC,IAAA,EAAI,EAAM,MAAQ,EAAM,OAAS,EAAM,MAAQ,EAAI,EAAM,OAAS,EAClE,EAAO,EAAI,qBACf,EAAM,MAAQ,EACd,EAAM,OAAS,EACf,EAAI,EACJ,EAAM,MAAQ,EACd,EAAM,OAAS,EACf,GAEF,EAAK,aAAa,EAAK,mBACvB,EAAK,aAAa,EAAK,oBACvB,EAAI,UAAY,EAChB,EAAI,SAAS,EAAG,EAAG,EAAM,MAAO,EAAM,QAEtC,EAAI,UAAY,MAChB,EAAI,KAAU,EAAI,EAAC,WACnB,EAAI,SAAS,IAAK,EAAM,MAAQ,EAAI,EAAI,EAAG,EAAM,OAAS,GAE1D,EAAI,KAAU,EAAI,GAAE,WACpB,EAAI,SAAS,QAAS,EAAM,MAAQ,EAAI,EAAI,EAAG,EAAM,OAAS,EAAI,EAAI,KAG1E,EAAO,cAAc,QAzCnB,MAAM,eA4CV,IAAM,EAAQ,SAAS,cAAc,UACrC,EAAM,iBAAiB,QAAS,WACxB,IAAA,EAAS,SAAS,cAAc,UAChC,EAAK,SAAS,cAAc,KAClC,EAAG,KAAO,EAAO,UAAU,aAC3B,EAAG,SAAW,aACd,EAAG","file":"src.2cc64946.js","sourceRoot":"..","sourcesContent":["const inputFile = document.querySelector(\r\n  \"input[type=file]\"\r\n) as HTMLInputElement;\r\ninputFile.addEventListener(\"change\", ev => {\r\n  const file = ((ev as Event).target as HTMLInputElement).files![0];\r\n  if (file.type != \"image/jpeg\" && file.type != \"image/png\") {\r\n    alert(\"画像ではありません\");\r\n    return;\r\n  }\r\n\r\n  const reader = new FileReader();\r\n  reader.onload = e => {\r\n    const image = new Image();\r\n    image.src = reader.result as string;\r\n    image.onload = () => {\r\n      const canvas = document.querySelector(\"canvas\") as HTMLCanvasElement;\r\n      canvas.width = image.width;\r\n      canvas.height = image.height;\r\n      const ctx = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\r\n      ctx.clearRect(0, 0, image.width, image.height);\r\n      ctx.drawImage(image, 0, 0, image.width, image.height);\r\n\r\n      ctx.fillStyle = \"rgba(0,0,0,.8)\";\r\n      ctx.fillRect(0, 0, image.width, image.height);\r\n\r\n      const r = image.width > image.height ? image.width / 2 : image.height / 2;\r\n      const grad = ctx.createRadialGradient(\r\n        image.width / 2,\r\n        image.height / 2,\r\n        r / 2,\r\n        image.width / 2,\r\n        image.height / 2,\r\n        r\r\n      );\r\n      grad.addColorStop(0.0, \"rgba(255,0,0,0)\");\r\n      grad.addColorStop(1.0, \"rgba(255,0,0,.2)\");\r\n      ctx.fillStyle = grad;\r\n      ctx.fillRect(0, 0, image.width, image.height);\r\n\r\n      ctx.fillStyle = \"red\";\r\n      ctx.font = `${r / 4}px '游明朝'`;\r\n      ctx.fillText(\"死\", image.width / 2 - r / 8, image.height / 2);\r\n\r\n      ctx.font = `${r / 16}px '游明朝'`;\r\n      ctx.fillText(\"DEATH\", image.width / 2 - r / 8, image.height / 2 + r / 8);\r\n    };\r\n  };\r\n  reader.readAsDataURL(file);\r\n});\r\n\r\nconst dlBtn = document.querySelector(\"button\") as HTMLButtonElement;\r\ndlBtn.addEventListener(\"click\", () => {\r\n  const canvas = document.querySelector(\"canvas\") as HTMLCanvasElement;\r\n  const dl = document.createElement(\"a\");\r\n  dl.href = canvas.toDataURL(\"image/png\");\r\n  dl.download = \"sekiro.png\";\r\n  dl.click();\r\n});\r\n"]}